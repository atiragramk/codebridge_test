{"version":3,"file":"static/js/185.465a449c.chunk.js","mappings":"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","sources":["components/ErrorBoundary/ErrorBoundary.tsx","components/ErrorMessage/ErrorMessage.tsx","pages/ArticleList/selectors/articleList.ts","pages/ArticleList/components/ArticleCard/ArticleCard.tsx","pages/ArticleList/ArticleList.tsx"],"sourcesContent":["import { Component, ReactNode } from \"react\";\nimport { ErrorMessage } from \"../ErrorMessage\";\n\ntype TProps = {\n  children?: ReactNode;\n}\ntype  TState = {\n  error: boolean;\n}\n\n\nexport class ErrorBoundary extends Component<TProps, TState> {\n  state = {\n    error: false,\n  };\n\n  componentDidCatch(error: Error) {\n    this.setState({\n      error: true,\n    });\n  }\n\n  render() {\n    if (this.state.error) {\n      return <ErrorMessage />;\n    }\n    return this.props.children;\n  }\n}\n","import { Button, Container } from \"@mui/material\";\nimport { Link } from \"react-router-dom\";\nimport error from \"../../assets/img/error.gif\";\n\nimport \"./style.scss\";\n\nexport const ErrorMessage = () => {\n  return (\n    <Container className=\"error\">\n      <img src={error} alt=\"error\" />\n      <Button component={Link} variant=\"contained\" to=\"/\">\n        Try again\n      </Button>\n    </Container>\n  );\n};\n","import { RootState } from \"../../../store\";\n\nexport const articleListStateSelector = (state: RootState) => state.articleList;\n","import {\n  Card,\n  CardActionArea,\n  CardMedia,\n  CardContent,\n  Typography,\n  Button,\n  Box,\n} from \"@mui/material\";\nimport DateRangeIcon from \"@mui/icons-material/DateRange\";\nimport ArrowRightAltIcon from \"@mui/icons-material/ArrowRightAlt\";\n\nimport Highlighter from \"react-highlight-words\";\nimport moment from \"moment\";\n\nimport { Article } from \"../../../../types\";\n\nimport \"./style.scss\";\n\ntype ArticleCardProps = {\n  article: Article;\n  keywords: string;\n  onOpen: (id: number) => void;\n};\n\nexport const ArticleCard: React.FC<ArticleCardProps> = ({\n  article,\n  keywords,\n  onOpen,\n}) => {\n  const date = moment(article.publishedAt).format(\"MMMM Do, YYYY\");\n  const shortDescription =\n    article.summary.length > 100\n      ? `${article.summary.slice(0, 100)}...`\n      : article.summary;\n\n  return (\n    <Card className=\"card\">\n      <CardActionArea onClick={() => onOpen(article.id)}>\n        <CardMedia\n          component=\"img\"\n          height=\"180\"\n          image={article.imageUrl}\n          alt={article.title}\n        />\n        <CardContent>\n          <Box className=\"card__date-container\">\n            <DateRangeIcon\n              className=\"card__date-container__icon\"\n              fontSize=\"small\"\n              color=\"secondary\"\n            />\n            <Typography color=\"secondary\" variant=\"subtitle2\">\n              {date}\n            </Typography>\n          </Box>\n          <Box className=\"card__title\">\n            <Highlighter\n              textToHighlight={article.title}\n              searchWords={keywords.split(\" \")}\n              autoEscape={true}\n            />\n          </Box>\n          <Box className=\"card__description\">\n            <Highlighter\n              textToHighlight={shortDescription}\n              searchWords={keywords.split(\" \")}\n            />\n          </Box>\n        </CardContent>\n      </CardActionArea>\n      <Button\n        endIcon={<ArrowRightAltIcon fontSize=\"small\" />}\n        size=\"small\"\n        className=\"card__button\"\n        onClick={() => onOpen(article.id)}\n      >\n        Read more\n      </Button>\n    </Card>\n  );\n};\n","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport {\n  Box,\n  Container,\n  InputAdornment,\n  LinearProgress,\n  TextField,\n  Typography,\n} from \"@mui/material\";\nimport SearchIcon from \"@mui/icons-material/Search\";\n\nimport { AppDispatch } from \"../../store\";\nimport { articleListStateSelector } from \"./selectors/articleList\";\nimport { articleListFetch } from \"./thunk/articleList\";\nimport { ArticleCard } from \"./components/ArticleCard\";\nimport { articleListKeywordsSetAction } from \"./reducer/articleList\";\nimport { Article, FilterArticles } from \"../../types\";\nimport { ErrorBoundary } from \"../../components/ErrorBoundary\";\nimport { ErrorMessage } from \"../../components/ErrorMessage\";\nimport \"./style.scss\";\n\nconst ArticleList = () => {\n  const { data, loading, error, keywords } = useSelector(\n    articleListStateSelector\n  );\n  const dispatch: AppDispatch = useDispatch();\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    dispatch(articleListFetch());\n  }, [dispatch]);\n\n  const handleFilterChange = (value: string) => {\n    dispatch(articleListKeywordsSetAction(value.trimStart()));\n  };\n\n  const handleArticleOpen = (id: number) => {\n    navigate(`/${id}`);\n  };\n\n  const handleMatchCheck = (keywords: string, str: string, key?: string) => {\n    const keywordArr = keywords.split(\" \").filter((keyword) => keyword);\n    if (key === \"title\") {\n      return keywordArr.some((keyword) =>\n        str.toLowerCase().includes(keyword.toLowerCase())\n      );\n    } else {\n      return keywordArr.some((keyword) =>\n        str.toLowerCase().slice(0, 100).includes(keyword.toLowerCase())\n      );\n    }\n  };\n\n  const handleFilterArticles = (\n    keywords: string,\n    articles: Article[]\n  ): FilterArticles[] => {\n    return articles.reduce((acc: FilterArticles[], currentValue) => {\n      if (handleMatchCheck(keywords, currentValue.title, \"title\")) {\n        acc = [...acc, { ...currentValue, weight: 2 }];\n      } else if (\n        handleMatchCheck(keywords, currentValue.summary) &&\n        handleMatchCheck(keywords, currentValue.title, \"title\")\n      ) {\n        acc = [...acc, { ...currentValue, weight: 1 }];\n      } else if (handleMatchCheck(keywords, currentValue.summary)) {\n        acc = [...acc, { ...currentValue, weight: 0.5 }];\n      }\n      return acc;\n    }, []);\n  };\n\n  const filteredArticles = handleFilterArticles(keywords, data).sort(\n    (a, b) => b.weight - a.weight\n  );\n\n  const displayArticles = keywords ? filteredArticles : data;\n\n  return (\n    <ErrorBoundary>\n      <Container maxWidth=\"lg\">\n        {loading && (\n          <Box>\n            <LinearProgress />\n          </Box>\n        )}\n        {!loading && data.length > 0 && (\n          <>\n            <Box className=\"list__search\">\n              <Typography className=\"list__search__text\">\n                Filter by keywords\n              </Typography>\n              <TextField\n                placeholder=\"Search article\"\n                size=\"small\"\n                value={keywords}\n                onChange={(event) => handleFilterChange(event.target.value)}\n                className=\"list__search__bar\"\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchIcon />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n              <Typography className=\"list__search__text\">\n                Results: {displayArticles.length}\n              </Typography>\n            </Box>\n            {!displayArticles.length && (\n              <Typography className=\"list__search__result-text\">\n                Sorry I couldn't find anything{\" \"}\n              </Typography>\n            )}\n            <Box className=\"list__card-container\">\n              {displayArticles.map((article) => {\n                return (\n                  <ArticleCard\n                    keywords={keywords}\n                    key={article.id}\n                    article={article}\n                    onOpen={handleArticleOpen}\n                  />\n                );\n              })}\n            </Box>\n          </>\n        )}\n        {error && !loading && <ErrorMessage />}\n      </Container>\n    </ErrorBoundary>\n  );\n};\n\nexport default ArticleList;\n"],"names":["ErrorBoundary","state","error","this","setState","ErrorMessage","props","children","Component","Container","className","src","alt","Button","component","Link","variant","to","articleListStateSelector","articleList","ArticleCard","article","keywords","onOpen","date","moment","publishedAt","format","shortDescription","summary","length","slice","Card","CardActionArea","onClick","id","CardMedia","height","image","imageUrl","title","CardContent","Box","DateRange","fontSize","color","Typography","textToHighlight","searchWords","split","autoEscape","endIcon","ArrowRightAlt","size","useSelector","data","loading","dispatch","useDispatch","navigate","useNavigate","useEffect","articleListFetch","handleArticleOpen","handleMatchCheck","str","key","keywordArr","filter","keyword","some","toLowerCase","includes","filteredArticles","articles","reduce","acc","currentValue","weight","handleFilterArticles","sort","a","b","displayArticles","maxWidth","LinearProgress","TextField","placeholder","value","onChange","event","target","articleListKeywordsSetAction","trimStart","InputProps","startAdornment","InputAdornment","position","Search","map"],"sourceRoot":""}